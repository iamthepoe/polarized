generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Author {
  id                        String       @id @default(uuid())
  name                      String
  phrases                   Phrase[]
  oppositionsAsFirstAuthor  Opposition[] @relation("FirstAuthorOpposition")
  oppositionsAsSecondAuthor Opposition[] @relation("SecondAuthorOpposition")

  @@map("authors")
}

model Phrase {
  id       String @id @default(uuid())
  content  String
  author   Author @relation(fields: [authorId], references: [id])
  authorId String

  @@map("phrases")
}

model Opposition {
  id             String @id @default(uuid())
  firstAuthor    Author @relation("FirstAuthorOpposition", fields: [firstAuthorId], references: [id])
  firstAuthorId  String
  secondAuthor   Author @relation("SecondAuthorOpposition", fields: [secondAuthorId], references: [id])
  secondAuthorId String
}
